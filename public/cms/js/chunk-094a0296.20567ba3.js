(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-094a0296"],{c02d:function(t,e,o){"use strict";o.r(e);var l=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"coupon"},[o("el-container",[o("el-aside",{attrs:{width:"200px"}},[o("NavTo")],1),o("el-container",[o("el-header",{staticStyle:{"border-bottom":"1px solid #d0d0d0","background-color":"#FFFFFF"}},[o("Header")],1),o("transition",{attrs:{appear:"","appear-active-class":"animated fadeInLeft"}},[o("el-main",[o("div",{staticClass:"article"},[o("el-button",{attrs:{type:"primary"},on:{click:t.add_user}},[t._v("添加优惠券")]),o("div",{staticStyle:{height:"20px"}},[t._v(" ")]),[o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,border:""}},[o("el-table-column",{attrs:{type:"index",label:"序号",width:"50px"}}),o("el-table-column",{attrs:{prop:"name",label:"优惠券名称"}}),o("el-table-column",{attrs:{prop:"status",label:"使用次数"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(1==e.row.status?"一次":"不限")+"\n\t\t\t\t\t\t\t\t\t")]}}])}),o("el-table-column",{attrs:{prop:"type",label:"类型"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(1==e.row.type?"店铺优惠券":"其他")+"\n\t\t\t\t\t\t\t\t\t")]}}])}),o("el-table-column",{attrs:{prop:"goods_ids",label:"可使用商品"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(0==e.row.goods_ids?"全部商品":"部分商品")+"\n\t\t\t\t\t\t\t\t\t")]}}])}),o("el-table-column",{attrs:{prop:"full",label:"满多少"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.full?[t._v("无门槛")]:[t._v(t._s(e.row.full))]]}}])}),o("el-table-column",{attrs:{prop:"reduce",label:"减多少"}}),o("el-table-column",{attrs:{prop:"start_time",label:"起始时间"}}),o("el-table-column",{attrs:{prop:"end_time",label:"结束时间"}}),o("el-table-column",{attrs:{prop:"stock",label:"库存"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.stock?[t._v(t._s(e.row.stock))]:[t._v("无限张")]]}}])}),o("el-table-column",{attrs:{prop:"operation",label:"操作",width:"300px"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{staticStyle:{"margin-left":"10px"},attrs:{slot:"reference",type:"danger",size:"small"},on:{click:function(o){return t.del(e.row.id)}},slot:"reference"},[t._v("删除")])]}}])}),o("strong")],1)]],2),o("el-pagination",{staticStyle:{"margin-top":"50px"},attrs:{background:"",layout:"prev, pager, next",total:t.total,"page-size":t.size},on:{"current-change":t.jump_page}})],1)],1)],1)],1),o("el-dialog",{attrs:{title:"修改",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[o("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},[o("el-form-item",{attrs:{label:"优惠券名"}},[o("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),o("el-form-item",{attrs:{label:"使用次数"}},[o("el-radio",{attrs:{label:"1",border:"",size:"medium"},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},[t._v("一次")]),o("el-radio",{attrs:{label:"2",border:"",size:"medium"},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},[t._v("不限")])],1),o("el-form-item",{attrs:{label:"满多少"}},[o("el-input",{model:{value:t.form.full,callback:function(e){t.$set(t.form,"full",e)},expression:"form.full"}})],1),o("el-form-item",{attrs:{label:"减多少"}},[o("el-input",{model:{value:t.form.reduce,callback:function(e){t.$set(t.form,"reduce",e)},expression:"form.reduce"}})],1),o("el-form-item",{attrs:{label:"可用商品"},model:{value:t.form.goods_ids,callback:function(e){t.$set(t.form,"goods_ids",e)},expression:"form.goods_ids"}},[o("el-radio",{attrs:{label:"0",border:"",size:"medium"},model:{value:t.goods_ids,callback:function(e){t.goods_ids=e},expression:"goods_ids"}},[t._v("全部商品")]),o("el-radio",{attrs:{label:"2",border:"",size:"medium"},model:{value:t.goods_ids,callback:function(e){t.goods_ids=e},expression:"goods_ids"}},[t._v("部分商品")])],1),o("el-form-item",{attrs:{label:"日期"}},[o("el-date-picker",{attrs:{type:"datetimerange","range-separator":"至","start-placeholder":t.form.start_time,"end-placeholder":t.form.end_time},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}})],1),o("el-form-item",{attrs:{label:"张数类型"}},[o("el-radio",{attrs:{label:"0",border:"",size:"medium"},model:{value:t.form.stock_type,callback:function(e){t.$set(t.form,"stock_type",e)},expression:"form.stock_type"}},[t._v("有限张")]),o("el-radio",{attrs:{label:"1",border:"",size:"medium"},model:{value:t.form.stock_type,callback:function(e){t.$set(t.form,"stock_type",e)},expression:"form.stock_type"}},[t._v("无限张")])],1)],1),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.sub_edit()}}},[t._v("确\n\t\t\t\t定")])],1)],1),o("el-dialog",{attrs:{title:"添加商品",visible:t.dialogVisibleadd,width:"30%"},on:{"update:visible":function(e){t.dialogVisibleadd=e}}},[o("el-form",{ref:"form",attrs:{model:t.form_pro,"label-width":"80px"}},[o("el-form-item",{attrs:{label:"商品名称"}},[o("el-input",{model:{value:t.form_pro.goods_name,callback:function(e){t.$set(t.form_pro,"goods_name",e)},expression:"form_pro.goods_name"}})],1),o("el-form-item",{attrs:{label:"商品内容"}},[o("el-input",{model:{value:t.form_pro.content,callback:function(e){t.$set(t.form_pro,"content",e)},expression:"form_pro.content"}})],1),o("el-form-item",{attrs:{label:"库存"}},[o("el-input",{model:{value:t.form_pro.stock,callback:function(e){t.$set(t.form_pro,"stock",e)},expression:"form_pro.stock"}})],1),o("el-form-item",{attrs:{label:"积分"}},[o("el-input",{model:{value:t.form_pro.points,callback:function(e){t.$set(t.form_pro,"points",e)},expression:"form_pro.points"}})],1),o("el-form-item",{attrs:{label:"商品图片"}},[o("el-upload",{attrs:{action:t.upfile_url,data:{use:"jp"},"on-success":t.res_banner_imgs,headers:t.upfile_head,limit:5,"file-list":t.upfile_banner_list,name:"upload-images","on-remove":t.handleRemove,"list-type":"picture-card"}},[o("i",{staticClass:"el-icon-plus"})]),o("el-dialog",{attrs:{visible:t.dialogVisiblea},on:{"update:visible":function(e){t.dialogVisiblea=e}}},[o("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1)],1),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.dialogVisibleadd=!1}}},[t._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("确 定")])],1)],1)],1)},a=[],i=(o("2ca7"),o("a49b")),s=o("15fc"),r=o("71c2"),n={data:function(){return{status:"1",stock_type:"0",goods_ids:"0",dialogImageUrl:"",dialogVisiblea:!1,tab_nav:!1,dialogVisible:!1,dialogVisibleadd:!1,dialogFormVisible:!1,oid:0,form:{},form_pro:{goods_name:"",content:"",img_id:[],stock:"",points:""},formLabelWidth:"120px",list:[],all:"",size:10,total:"",options:[],value:"",typeList:[],upfile_banner_list:[],upfile_url:i["a"]+"com/up_img?back=id",upfile_head:{token:localStorage.getItem("token")},upfile_list:[]}},components:{Header:r["a"],NavTo:s["a"]},methods:{get_goods_id:function(){},handleRemove:function(t,e){console.log(t,e)},handlePictureCardPreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0},onSubmit:function(){},res_banner_imgs:function(t){console.log("res:",t),this.form_pro.img_id.push(t),console.log("xx:",this.form_pro.img_id)},add_user:function(){this.$router.push({path:"./addcoupon"})},edit:function(t){this.form=t,this.dialogVisible=!0},sub_edit:function(){},jump_page:function(t){var e=this,o=(t-1)*e.size,l=t*e.size;console.log(o,l),this.list=this.all.slice(o,l)},sub:function(){},get_coupon:function(){var t=this;this.http.get("coupon/admin/get_coupon").then((function(e){t.list=e.data}))},del:function(t){var e=this,o=this;this.$confirm("是否删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.http.put_show("coupon/admin/del_coupon",{id:t}).then((function(){o.$message({showClose:!0,message:"删除成功",type:"success"}),e.get_coupon()}))}))},close_fun:function(t){this.clear_data(),t()},clear_data:function(){this.dialogFormVisible=!1}},mounted:function(){this.get_coupon()}},c=n,u=(o("fbe1"),o("623f")),d=Object(u["a"])(c,l,a,!1,null,null,null);e["default"]=d.exports},c2ae:function(t,e,o){},fbe1:function(t,e,o){"use strict";var l=o("c2ae"),a=o.n(l);a.a}}]);